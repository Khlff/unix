# Задача 2
## Тема: совместная работа с файлами, понятие блокировок.

Представим, что мы работаем в примитивной файловой системе без каких-либо файловых блокировок типа flock. Требуется сделать собственную программу для файловых блокировок на основе создания файлов \<myfile\>.lck, где \<myfile\> — имя блокируемого файла.

### Алгоритм работы:

1. Получить из аргументов командной строки имя файла myfile.
2. Проверить существование файла .lck: если не существует, то создать; если существует, то ожидать его удаления.
3. Записать в этот файл свой pid.
4. Выполнить чтение/запись исходного файла myfile, добавить сон для наглядности.
5. Проверить, что файл .lck ещё существует и в нём записан свой pid. Если это так, то удалить файл, если нет — завершиться с сообщением об ошибке.

Написать в `runme.sh` тестовый скрипт, который запустит в параллель 10 задач, каждая из которых в бесконечном цикле блокирует общий файл на 1 секунду, а потом снимает блокировку. Писать или читать общий файл не обязательно. Через пять минут завершить все десять задач сигналом sigint. В задачах вести статистику количества успешных блокировок. По сигналу sigint задача должна сохранить статистику блокировок в общий файл статистики и завершиться. Убедиться, что задачи не падают из-за порчи lck файла (гонки). Убедиться, что файл статистики содержит по одной строке на каждую задачу. Убедиться, что статистика блокировок для всех процессов примерно одинакова (нет тупиков).